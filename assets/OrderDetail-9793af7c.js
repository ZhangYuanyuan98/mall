import{W as b,$ as N,a as p,m as D,at as T,ay as I,r as V,ae as $,o as n,e as C,ax as o,aE as _,au as f,av as i,b4 as h,F,aw as W,aC as u,aA as A,aB as E}from"./_plugin-vue_export-helper-bbba385e.js";import{V as L,W as U,C as H,D as M,P as q,x as g}from"./index-83ef66a3.js";/* empty css              *//* empty css              *//* empty css              */import"./index-63b62995.js";/* empty css              */import{s as R}from"./SimpleHeader-15f74882.js";import{a as j,b as z,d as G,p as J}from"./order-10766096.js";import{s as K}from"./index-505f36ab.js";import{B as Q}from"./index-15c43362.js";import{C as X}from"./index-47376bc1.js";import"./index-f24f906d.js";import"./use-placeholder-3c9d38fd.js";import"./index-27d8170e.js";let y;const Y={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:void 0,beforeClose:null,overlayClass:"",overlayStyle:void 0,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,cancelButtonDisabled:!1,confirmButtonText:"",confirmButtonColor:null,confirmButtonDisabled:!1,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1};let Z=b({},Y);function ee(){({instance:y}=L({setup(){const{state:d,toggle:e}=U();return()=>p(K,D(d,{"onUpdate:show":e}),null)}}))}function te(a){return N?new Promise((d,e)=>{y||ee(),y.open(b({},Z,a,{callback:r=>{(r==="confirm"?d:e)(r)}}))}):Promise.resolve()}const w=a=>te(b({showCancelButton:!0},a));const m=a=>(A("data-v-a17e6cec"),a=a(),E(),a),oe={class:"order-detail-box"},se={class:"order-status"},ae={class:"status-item"},le=m(()=>o("label",null,"订单状态：",-1)),re={class:"status-item"},ne=m(()=>o("label",null,"订单编号：",-1)),ie={class:"status-item"},de=m(()=>o("label",null,"下单时间：",-1)),ce={class:"order-price"},ue={class:"price-item"},pe=m(()=>o("label",null,"商品金额：",-1)),me=m(()=>o("div",{class:"price-item"},[o("label",null,"配送方式："),o("span",null,"普通快递")],-1)),_e={style:{width:"90%",margin:"0 auto",padding:"20px 0"}},fe={__name:"OrderDetail",setup(a){const d=I(),e=V({detail:{},showPay:!1});$(()=>{r()});const r=async()=>{H({message:"加载中...",forbidClick:!0});const{id:l}=d.query,{data:t}=await j(l);e.detail=t,M()},k=l=>{w({title:"确认取消订单？"}).then(()=>{z(l).then(t=>{t.resultCode==200&&(g("删除成功"),r())})}).catch(()=>{})},B=l=>{w({title:"是否确认订单？"}).then(()=>{G(l).then(t=>{t.resultCode==200&&(g("确认成功"),r())})}).catch(()=>{})},O=()=>{e.showPay=!0},v=async(l,t)=>{await J({orderNo:l,payType:t}),e.showPay=!1,r()},P=()=>{};return(l,t)=>{const c=Q,x=X,S=q;return n(),C("div",oe,[p(R,{name:"订单详情",onCallback:P}),o("div",se,[o("div",ae,[le,o("span",null,_(e.detail.orderStatusString),1)]),o("div",re,[ne,o("span",null,_(e.detail.orderNo),1)]),o("div",ie,[de,o("span",null,_(e.detail.createTime),1)]),e.detail.orderStatus==3?(n(),f(c,{key:0,style:{"margin-bottom":"10px"},color:"#1baeae",block:"",onClick:t[0]||(t[0]=s=>B(e.detail.orderNo))},{default:i(()=>[u("确认收货")]),_:1})):h("",!0),e.detail.orderStatus==0?(n(),f(c,{key:1,style:{"margin-bottom":"10px"},color:"#1baeae",block:"",onClick:O},{default:i(()=>[u("去支付")]),_:1})):h("",!0),e.detail.orderStatus<0||e.detail.orderStatus==4?h("",!0):(n(),f(c,{key:2,block:"",onClick:t[1]||(t[1]=s=>k(e.detail.orderNo))},{default:i(()=>[u("取消订单")]),_:1}))]),o("div",ce,[o("div",ue,[pe,o("span",null,"¥ "+_(e.detail.totalPrice),1)]),me]),(n(!0),C(F,null,W(e.detail.newBeeMallOrderItemVOS,s=>(n(),f(x,{key:s.goodsId,style:{background:"#fff"},num:s.goodsCount,price:s.sellingPrice,desc:"全场包邮",title:s.goodsName,thumb:l.$filters.prefix(s.goodsCoverImg)},null,8,["num","price","title","thumb"]))),128)),p(S,{show:e.showPay,"onUpdate:show":t[4]||(t[4]=s=>e.showPay=s),position:"bottom",style:{height:"24%"}},{default:i(()=>[o("div",_e,[p(c,{style:{marginBottom:"10px"},color:"#1989fa",block:"",onClick:t[2]||(t[2]=s=>v(e.detail.orderNo,1))},{default:i(()=>[u("支付宝支付")]),_:1}),p(c,{color:"#4fc08d",block:"",onClick:t[3]||(t[3]=s=>v(e.detail.orderNo,2))},{default:i(()=>[u("微信支付")]),_:1})])]),_:1},8,["show"])])}}},Te=T(fe,[["__scopeId","data-v-a17e6cec"]]);export{Te as default};
